/*! backend 2014-10-11 */
String.prototype.repeat=function(t){return Array(t+1).join(this)},function(t){t.fn.addSliderSegments=function(e,i){return this.each(function(){if("vertical"==i){var n,a="";for(n=1;e-2>=n;n++)a+='<div class="ui-slider-segment" style="top:'+100/(e-1)*n+'%;"></div>';t(this).prepend(a)}else{var s=100/(e-1)+"%",o='<div class="ui-slider-segment" style="margin-left: '+s+';"></div>';t(this).prepend(o.repeat(e-2))}})},t(function(){t(".todo").on("click","li",function(){t(this).toggleClass("todo-done")}),t("select[name='huge']").selectpicker({style:"btn-hg btn-primary",menuStyle:"dropdown-inverse"}),t("select[name='herolist']").selectpicker({style:"btn-primary",menuStyle:"dropdown-inverse"}),t("select[name='info']").selectpicker({style:"btn-info"}),t("[data-toggle=tooltip]").tooltip("show"),t(".tagsinput").tagsInput();var e=t("#slider");e.length&&e.slider({min:1,max:5,value:2,orientation:"horizontal",range:"min"}).addSliderSegments(e.slider("option").max);var i=t("#vertical-slider");i.length&&i.slider({min:1,max:5,value:3,orientation:"vertical",range:"min"}).addSliderSegments(i.slider("option").max,"vertical"),t(":text, textarea").placeholder(),t(".input-group").on("focus",".form-control",function(){t(this).closest(".input-group, .form-group").addClass("focus")}).on("blur",".form-control",function(){t(this).closest(".input-group, .form-group").removeClass("focus")}),t(".pagination").on("click","a",function(){t(this).parent().siblings("li").removeClass("active").end().addClass("active")}),t(".btn-group").on("click","a",function(){t(this).siblings().removeClass("active").end().addClass("active")}),t(document).on("click",'a[href="#fakelink"]',function(t){t.preventDefault()}),t("[data-toggle='switch']").wrap('<div class="switch" />').parent().bootstrapSwitch(),t("#typeahead-demo-01").length&&t("#typeahead-demo-01").typeahead({name:"states",limit:4,local:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]}),window.prettyPrint&&prettyPrint()})}(jQuery),!function(t){var e=function(i,n,a){a&&(a.stopPropagation(),a.preventDefault()),this.$element=t(i),this.$newElement=null,this.button=null,this.options=t.extend({},t.fn.selectpicker.defaults,this.$element.data(),"object"==typeof n&&n),null==this.options.title&&(this.options.title=this.$element.attr("title")),this.val=e.prototype.val,this.render=e.prototype.render,this.init()};e.prototype={constructor:e,init:function(){function e(){var e=c-t(window).scrollTop(),i=t(window).innerHeight(),n=f+parseInt(o.css("margin-top"))+parseInt(o.css("margin-bottom"))+2,a=i-e-p-n;u=a,s.hasClass("dropup")&&(u=e-n),o.css({"max-height":u+"px","overflow-y":"auto","min-height":3*d+"px"})}var i=this;this.$element.hide(),this.multiple=this.$element.prop("multiple");var n=void 0!==this.$element.attr("class")?this.$element.attr("class").split(/\s+/):"",a=this.$element.attr("id");this.$element.after(this.createView()),this.$newElement=this.$element.next(".select");var s=this.$newElement,o=this.$newElement.find(".dropdown-menu"),l=this.$newElement.find(".dropdown-arrow");o.find("li > a");var d=s.addClass("open").find(".dropdown-menu li > a").outerHeight();s.removeClass("open");var r=o.find("li .divider").outerHeight(!0),c=this.$newElement.offset().top,u=0,p=this.$newElement.outerHeight();this.button=this.$newElement.find("> button"),void 0!==a&&(this.button.attr("id",a),t('label[for="'+a+'"]').click(function(){s.find("button#"+a).focus()}));for(var h=0;n.length>h;h++)"selectpicker"!=n[h]&&this.$newElement.addClass(n[h]);this.multiple&&this.$newElement.addClass("select-multiple"),this.button.addClass(this.options.style),o.addClass(this.options.menuStyle),l.addClass(function(){return i.options.menuStyle?i.options.menuStyle.replace("dropdown-","dropdown-arrow-"):void 0}),this.checkDisabled(),this.checkTabIndex(),this.clickListener();var f=parseInt(o.css("padding-top"))+parseInt(o.css("padding-bottom"))+parseInt(o.css("border-top-width"))+parseInt(o.css("border-bottom-width"));if("auto"==this.options.size)e(),t(window).resize(e),t(window).scroll(e),window.MutationObserver?new MutationObserver(e).observe(this.$element.get(0),{childList:!0}):this.$element.bind("DOMNodeInserted",e);else if(this.options.size&&"auto"!=this.options.size&&o.find("li").length>this.options.size){var m=o.find("li > *").filter(":not(.divider)").slice(0,this.options.size).last().parent().index(),g=o.find("li").slice(0,m+1).find(".divider").length;u=d*this.options.size+g*r+f,o.css({"max-height":u+"px","overflow-y":"scroll"})}window.MutationObserver?new MutationObserver(t.proxy(this.reloadLi,this)).observe(this.$element.get(0),{childList:!0}):this.$element.bind("DOMNodeInserted",t.proxy(this.reloadLi,this)),this.render()},createDropdown:function(){var e="<div class='btn-group select'><button class='btn dropdown-toggle clearfix' data-toggle='dropdown'><span class='filter-option pull-left'></span>&nbsp;<span class='caret'></span></button><span class='dropdown-arrow'></span><ul class='dropdown-menu' role='menu'></ul></div>";return t(e)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul").append(e),t},reloadLi:function(){this.destroyLi(),$li=this.createLi(),this.$newElement.find("ul").append($li),this.render()},destroyLi:function(){this.$newElement.find("li").remove()},createLi:function(){var e=this,i=[],n=[],a="";if(this.$element.find("option").each(function(){i.push(t(this).text())}),this.$element.find("option").each(function(){var i=void 0!==t(this).attr("class")?t(this).attr("class"):"",a=t(this).text(),s=void 0!==t(this).data("subtext")?'<small class="muted">'+t(this).data("subtext")+"</small>":"";if(a+=s,t(this).parent().is("optgroup")&&1!=t(this).data("divider"))if(0==t(this).index()){var o=t(this).parent().attr("label"),l=void 0!==t(this).parent().data("subtext")?'<small class="muted">'+t(this).parent().data("subtext")+"</small>":"";o+=l,0!=t(this)[0].index?n.push('<div class="divider"></div><dt>'+o+"</dt>"+e.createA(a,"opt "+i)):n.push("<dt>"+o+"</dt>"+e.createA(a,"opt "+i))}else n.push(e.createA(a,"opt "+i));else 1==t(this).data("divider")?n.push('<div class="divider"></div>'):1==t(this).data("hidden")?n.push(""):n.push(e.createA(a,i))}),i.length>0)for(var s=0;i.length>s;s++)this.$element.find("option").eq(s),a+="<li rel="+s+">"+n[s]+"</li>";return 0!=this.$element.find("option:selected").length||e.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),t(a)},createA:function(t,e){return'<a tabindex="-1" href="#" class="'+e+'">'+'<span class="pull-left">'+t+"</span>"+"</a>"},render:function(){var e=this;if("auto"==this.options.width){var i=this.$newElement.find(".dropdown-menu").css("width");this.$newElement.css("width",i)}else this.options.width&&"auto"!=this.options.width&&this.$newElement.css("width",this.options.width);this.$element.find("option").each(function(i){e.setDisabled(i,t(this).is(":disabled")||t(this).parent().is(":disabled")),e.setSelected(i,t(this).is(":selected"))});var n=this.$element.find("option:selected").map(function(){return void 0!=t(this).attr("title")?t(this).attr("title"):t(this).text()}).toArray(),a=n.join(", ");if(e.multiple&&e.options.selectedTextFormat.indexOf("count")>-1){var s=e.options.selectedTextFormat.split(">");(s.length>1&&n.length>s[1]||1==s.length&&n.length>=2)&&(a=n.length+" of "+this.$element.find("option").length+" selected")}a||(a=void 0!=e.options.title?e.options.title:e.options.noneSelectedText),this.$element.next(".select").find(".filter-option").html(a)},setSelected:function(t,e){e?this.$newElement.find("li").eq(t).addClass("selected"):this.$newElement.find("li").eq(t).removeClass("selected")},setDisabled:function(t,e){e?this.$newElement.find("li").eq(t).addClass("disabled"):this.$newElement.find("li").eq(t).removeClass("disabled")},checkDisabled:function(){this.$element.is(":disabled")&&(this.button.addClass("disabled"),this.button.click(function(t){t.preventDefault()}))},checkTabIndex:function(){if(this.$element.is("[tabindex]")){var t=this.$element.attr("tabindex");this.button.attr("tabindex",t)}},clickListener:function(){var e=this;t("body").on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),this.$newElement.on("click","li a",function(i){var n=t(this).parent().index(),a=t(this).parent(),s=a.parents(".select");if(e.multiple&&i.stopPropagation(),i.preventDefault(),s.prev("select").not(":disabled")&&!t(this).parent().hasClass("disabled")){if(e.multiple){var o=s.prev("select").find("option").eq(n).prop("selected");o?s.prev("select").find("option").eq(n).removeAttr("selected"):s.prev("select").find("option").eq(n).prop("selected",!0).attr("selected","selected")}else s.prev("select").find("option").removeAttr("selected"),s.prev("select").find("option").eq(n).prop("selected",!0).attr("selected","selected");s.find(".filter-option").html(a.text()),s.find("button").focus(),s.prev("select").trigger("change")}}),this.$newElement.on("click","li.disabled a, li dt, li .divider",function(e){e.preventDefault(),e.stopPropagation(),$select=t(this).parent().parents(".select"),$select.find("button").focus()}),this.$element.on("change",function(){e.render()})},val:function(t){return void 0!=t?(this.$element.val(t),this.$element.trigger("change"),this.$element):this.$element.val()}},t.fn.selectpicker=function(i,n){var a,s=arguments,o=this.each(function(){var o=t(this),l=o.data("selectpicker"),d="object"==typeof i&&i;if(l)for(var r in i)l[r]=i[r];else o.data("selectpicker",l=new e(this,d,n));"string"==typeof i&&(property=i,l[property]instanceof Function?([].shift.apply(s),a=l[property].apply(l,s)):a=l[property])});return void 0!=a?a:o},t.fn.selectpicker.defaults={style:null,size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",width:null,menuStyle:null,toggleSize:null}}(window.jQuery),function(t,e,i){function n(t){var e={},n=/^jQuery\d+$/;return i.each(t.attributes,function(t,i){i.specified&&!n.test(i.name)&&(e[i.name]=i.value)}),e}function a(t,n){var a=this,s=i(a);if(a.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){if(s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id")),t===!0)return s[0].value=n;s.focus()}else a.value="",s.removeClass("placeholder"),a==e.activeElement&&a.select()}function s(){var t,e=this,s=i(e),o=this.id;if(""==e.value){if("password"==e.type){if(!s.data("placeholder-textinput")){try{t=s.clone().attr({type:"text"})}catch(l){t=i("<input>").attr(i.extend(n(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":o}).bind("focus.placeholder",a),s.data({"placeholder-textinput":t,"placeholder-id":o}).before(t)}s=s.removeAttr("id").hide().prev().attr("id",o).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}var o,l,d="placeholder"in e.createElement("input"),r="placeholder"in e.createElement("textarea"),c=i.fn,u=i.valHooks;d&&r?(l=c.placeholder=function(){return this},l.input=l.textarea=!0):(l=c.placeholder=function(){var t=this;return t.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":a,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},l.input=d,l.textarea=r,o={get:function(t){var e=i(t);return e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,n){var o=i(t);return o.data("placeholder-enabled")?(""==n?(t.value=n,t!=e.activeElement&&s.call(t)):o.hasClass("placeholder")?a.call(t,!0,n)||(t.value=n):t.value=n,o):t.value=n}},d||(u.input=o),r||(u.textarea=o),i(function(){i(e).delegate("form","submit.placeholder",function(){var t=i(".placeholder",this).each(a);setTimeout(function(){t.each(s)},10)})}),i(t).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(t){var e=[],n=[];t.fn.doAutosize=function(e){var i=t(this).data("minwidth"),n=t(this).data("maxwidth"),a="",s=t(this),o=t("#"+t(this).data("tester_id"));if(a!==(a=s.val())){var l=a.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");o.html(l);var d=o.width(),r=d+e.comfortZone>=i?d+e.comfortZone:i,c=s.width(),u=c>r&&r>=i||r>i&&n>r;u&&s.width(r)}},t.fn.resetAutosize=function(e){var i=t(this).data("minwidth")||e.minInputWidth||t(this).width(),n=t(this).data("maxwidth")||e.maxInputWidth||t(this).closest(".tagsinput").width()-e.inputPadding,a=t(this),s=t("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily"),fontWeight:a.css("fontWeight"),letterSpacing:a.css("letterSpacing"),whiteSpace:"nowrap"}),o=t(this).attr("id")+"_autosize_tester";!t("#"+o).length>0&&(s.attr("id",o),s.appendTo("body")),a.data("minwidth",i),a.data("maxwidth",n),a.data("tester_id",o),a.css("width",i)},t.fn.addTag=function(i,a){return a=jQuery.extend({focus:!1,callback:!0},a),this.each(function(){var s=t(this).attr("id"),o=t(this).val().split(e[s]);if(""==o[0]&&(o=[]),i=jQuery.trim(i),a.unique){var l=t(this).tagExist(i);1==l&&t("#"+s+"_tag").addClass("not_valid")}else var l=!1;if(""!=i&&1!=l){if(t("<span>").addClass("tag").append(t("<span>").text(i).append("&nbsp;&nbsp;"),t('<a class="tagsinput-remove-link">',{href:"#",title:"Remove tag",text:""}).click(function(){return t("#"+s).removeTag(escape(i))})).insertBefore("#"+s+"_addTag"),o.push(i),t("#"+s+"_tag").val(""),a.focus?t("#"+s+"_tag").focus():t("#"+s+"_tag").blur(),t.fn.tagsInput.updateTagsField(this,o),a.callback&&n[s]&&n[s].onAddTag){var d=n[s].onAddTag;d.call(this,i)}if(n[s]&&n[s].onChange){var r=o.length,d=n[s].onChange;d.call(this,t(this),o[r-1])}}}),!1},t.fn.removeTag=function(a){return a=unescape(a),this.each(function(){var s=t(this).attr("id"),o=t(this).val().split(e[s]);for(t("#"+s+"_tagsinput .tag").remove(),str="",i=0;o.length>i;i++)o[i]!=a&&(str=str+e[s]+o[i]);if(t.fn.tagsInput.importTags(this,str),n[s]&&n[s].onRemoveTag){var l=n[s].onRemoveTag;l.call(this,a)}}),!1},t.fn.tagExist=function(i){var n=t(this).attr("id"),a=t(this).val().split(e[n]);return jQuery.inArray(i,a)>=0},t.fn.importTags=function(e){id=t(this).attr("id"),t("#"+id+"_tagsinput .tag").remove(),t.fn.tagsInput.importTags(this,e)},t.fn.tagsInput=function(i){var a=jQuery.extend({interactive:!0,defaultText:"",minChars:0,width:"",height:"",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){a.hide&&t(this).hide();var i=t(this).attr("id");(!i||e[t(this).attr("id")])&&(i=t(this).attr("id","tags"+(new Date).getTime()).attr("id"));var s=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},a);e[i]=s.delimiter,(a.onAddTag||a.onRemoveTag||a.onChange)&&(n[i]=[],n[i].onAddTag=a.onAddTag,n[i].onRemoveTag=a.onRemoveTag,n[i].onChange=a.onChange);var o=t("#"+i).attr("class").replace("tagsinput",""),l='<div id="'+i+'_tagsinput" class="tagsinput '+o+'"><div class="tagsinput-add-container" id="'+i+'_addTag"><div class="tagsinput-add"></div>';if(a.interactive&&(l=l+'<input id="'+i+'_tag" value="" data-default="'+a.defaultText+'" />'),l+="</div></div>",t(l).insertAfter(this),t(s.holder).css("width",a.width),t(s.holder).css("min-height",a.height),t(s.holder).css("height","100%"),""!=t(s.real_input).val()&&t.fn.tagsInput.importTags(t(s.real_input),t(s.real_input).val()),a.interactive){if(t(s.fake_input).val(t(s.fake_input).attr("data-default")),t(s.fake_input).css("color",a.placeholderColor),t(s.fake_input).resetAutosize(a),t(s.holder).bind("click",s,function(e){t(e.data.fake_input).focus()}),t(s.fake_input).bind("focus",s,function(e){t(e.data.fake_input).val()==t(e.data.fake_input).attr("data-default")&&t(e.data.fake_input).val(""),t(e.data.fake_input).css("color","#000000")}),void 0!=a.autocomplete_url){autocomplete_options={source:a.autocomplete_url};for(attrname in a.autocomplete)autocomplete_options[attrname]=a.autocomplete[attrname];void 0!==jQuery.Autocompleter?(t(s.fake_input).autocomplete(a.autocomplete_url,a.autocomplete),t(s.fake_input).bind("result",s,function(e,n){n&&t("#"+i).addTag(n[0]+"",{focus:!0,unique:a.unique})})):void 0!==jQuery.ui.autocomplete&&(t(s.fake_input).autocomplete(autocomplete_options),t(s.fake_input).bind("autocompleteselect",s,function(e,i){return t(e.data.real_input).addTag(i.item.value,{focus:!0,unique:a.unique}),!1}))}else t(s.fake_input).bind("blur",s,function(e){var i=t(this).attr("data-default");return""!=t(e.data.fake_input).val()&&t(e.data.fake_input).val()!=i?e.data.minChars<=t(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=t(e.data.fake_input).val().length)&&t(e.data.real_input).addTag(t(e.data.fake_input).val(),{focus:!0,unique:a.unique}):(t(e.data.fake_input).val(t(e.data.fake_input).attr("data-default")),t(e.data.fake_input).css("color",a.placeholderColor)),!1});t(s.fake_input).bind("keypress",s,function(e){return e.which==e.data.delimiter.charCodeAt(0)||13==e.which?(e.preventDefault(),e.data.minChars<=t(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=t(e.data.fake_input).val().length)&&t(e.data.real_input).addTag(t(e.data.fake_input).val(),{focus:!0,unique:a.unique}),t(e.data.fake_input).resetAutosize(a),!1):(e.data.autosize&&t(e.data.fake_input).doAutosize(a),void 0)}),s.removeWithBackspace&&t(s.fake_input).bind("keydown",function(e){if(8==e.keyCode&&""==t(this).val()){e.preventDefault();var i=t(this).closest(".tagsinput").find(".tag:last").text(),n=t(this).attr("id").replace(/_tag$/,"");i=i.replace(/[\s\u00a0]+x$/,""),t("#"+n).removeTag(escape(i)),t(this).trigger("focus")}}),t(s.fake_input).blur(),s.unique&&t(s.fake_input).keydown(function(e){(8==e.keyCode||String.fromCharCode(e.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,/]+/))&&t(this).removeClass("not_valid")})}}),this},t.fn.tagsInput.updateTagsField=function(i,n){var a=t(i).attr("id");t(i).val(n.join(e[a]))},t.fn.tagsInput.importTags=function(a,s){t(a).val("");var o=t(a).attr("id"),l=s.split(e[o]);for(i=0;l.length>i;i++)t(a).addTag(l[i],{focus:!1,callback:!1});if(n[o]&&n[o].onChange){var d=n[o].onChange;d.call(a,a,l[i])}}}(jQuery);